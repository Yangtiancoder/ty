{"remainingRequest":"/Users/tianyang/Downloads/ty/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tianyang/Downloads/ty/src/views/SearchResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tianyang/Downloads/ty/src/views/SearchResult.vue","mtime":1606148290141},{"path":"/Users/tianyang/Downloads/ty/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianyang/Downloads/ty/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tianyang/Downloads/ty/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianyang/Downloads/ty/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRhdGFzZXQxLCBkYXRhc2V0MiwgZGF0YXNldDMsIGRhdGFzZXQ0IH0gZnJvbSAnQC9hc3NldHMvZGF0YS5qcycKCmV4cG9ydCBkZWZhdWx0IHsKCiAgZGF0YSgpIHsKICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy4kcm91dGUucXVlcnkucXVlcnkgfHwgJ2Vycm9yJwogICAgY29uc3QgW251bTEsIG51bTIsIG51bTMsIG51bTRdID0oW2RhdGFzZXQxLCBkYXRhc2V0MiwgZGF0YXNldDMsIGRhdGFzZXQ0XSkubWFwKGRhdGFzZXQgPT4gewogICAgICByZXR1cm4gZGF0YXNldC5yZWR1Y2UoKHByZVBvc3QsIHBvc3QpID0+IHsKICAgICAgcmV0dXJuIHByZVBvc3QgKyBwb3N0LnJlZHVjZSgocHJlLCBwYXJhKT0+ewogICAgICAgIGlmKHBhcmEudHlwZSA9PT0gJ3RleHQnKXsKICAgICAgICAgIGNvbnN0IGNvbnRlbnRTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShwYXJhLmNvbnRlbnQpCiAgICAgICAgICByZXR1cm4gY29udGVudFN0cmluZy5pbmRleE9mKHF1ZXJ5KSA+PSAwID8gcHJlICsgMSA6IHByZQogICAgICAgIH0KICAgICAgICByZXR1cm4gcHJlCiAgICAgIH0sIDApCiAgICB9LCAwKQogICAgfSkgCiAgICAKCiAgICByZXR1cm4gewogICAgICBkYXRhc2V0MTogbnVtMSwKICAgICAgZGF0YXNldDI6IG51bTIsCiAgICAgIGRhdGFzZXQzOiBudW0zLAogICAgICBkYXRhc2V0NDogbnVtNCwKICAgICAgdG90YWw6IG51bTEgKyBudW0yICsgbnVtMyArIG51bTQsCiAgICAgIHF1ZXJ5CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRhYmxlRGF0YSgpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICB7IGlkOiAxLCDmlbDmja7lupM6ICLkuLTluormlbDmja7lupMiLCByZXN1bHROdW06IHRoaXMuZGF0YXNldDEgfSwKICAgICAgICB7IGlkOiAyLCDmlbDmja7lupM6ICLljLvlrablvbHlg4/lupMiLCByZXN1bHROdW06IHRoaXMuZGF0YXNldDIgfSwKICAgICAgICB7IGlkOiAzLCDmlbDmja7lupM6ICLnu4TlrabmlbDmja7lupMiLCByZXN1bHROdW06IHRoaXMuZGF0YXNldDMgfSwKICAgICAgICB7IGlkOiA0LCDmlbDmja7lupM6ICLmlofmoaPmlbDmja7lupMiLCByZXN1bHROdW06IHRoaXMuZGF0YXNldDQgfSwKICAgICAgXTsKICAgIH0sCiAgICByZXN1bHROdW1zKCl7CiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnF1ZXJ5CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["SearchResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchResult.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"search-result\">\n      <div style=\"width:80%;textAlign: left\">\n        <el-button type=\"primary\" @click=\"$router.push('/search')\" size=\"medium\">Back</el-button>\n      </div>\n\n    <p class=\"title\">跨库搜索结果: <span style=\"color: orange\">\n      {{query}}\n      </span>\n    </p>\n    <p class=\"en-title\">Crossing Database Searching Results</p>\n    <div class=\"result-container\">\n      <el-table :data=\"tableData\" style=\"width: 100%\" class=\"table\" >\n        <el-table-column prop=\"id\" label=\"编号\" width=\"90\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"数据库\" label=\"数据库\" width=\"500\" align=\"center\"></el-table-column>\n\n        <el-table-column :label=\"`共查找到 ${total} 条结果`\" align=\"left\">\n          <template slot-scope=\"scope\">\n            <p>\n                <span class=\"em\">{{scope.row.resultNum}}</span>\n                条结果\n                <a class=\"link\" v-if=\"scope.row.resultNum > 0\" @click=\"$router.push(`/detail-results?dataset=${scope.row.id}&query=${query}`)\">\n                  点击查看\n                </a>\n            </p>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { dataset1, dataset2, dataset3, dataset4 } from '@/assets/data.js'\n\nexport default {\n\n  data() {\n    const query = this.$route.query.query || 'error'\n    const [num1, num2, num3, num4] =([dataset1, dataset2, dataset3, dataset4]).map(dataset => {\n      return dataset.reduce((prePost, post) => {\n      return prePost + post.reduce((pre, para)=>{\n        if(para.type === 'text'){\n          const contentString = JSON.stringify(para.content)\n          return contentString.indexOf(query) >= 0 ? pre + 1 : pre\n        }\n        return pre\n      }, 0)\n    }, 0)\n    }) \n    \n\n    return {\n      dataset1: num1,\n      dataset2: num2,\n      dataset3: num3,\n      dataset4: num4,\n      total: num1 + num2 + num3 + num4,\n      query\n    };\n  },\n  computed: {\n    tableData() {\n      return [\n        { id: 1, 数据库: \"临床数据库\", resultNum: this.dataset1 },\n        { id: 2, 数据库: \"医学影像库\", resultNum: this.dataset2 },\n        { id: 3, 数据库: \"组学数据库\", resultNum: this.dataset3 },\n        { id: 4, 数据库: \"文档数据库\", resultNum: this.dataset4 },\n      ];\n    },\n    resultNums(){\n        return this.$route.query\n    }\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.search-result {\n  margin: 0 auto;\n  width: 100%;\n  //   border: 1px solid red;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  .title {\n    font-size: 30px;\n    color: #fff;\n    font-weight: 600;\n  }\n  .en-title {\n    color: #999;\n    font-size: 25px;\n    font-weight: 200;\n    margin-bottom: 20px;\n  }\n\n  .result-container {\n    width: 80%;\n    display: flex;\n    .table {\n        font-size: 30px;\n        background-color: rgba(255,255,255, 0.1);\n        border-radius: 5px;\n        padding: 20px 10px;\n        color: #fff;\n    }\n     .em {\n        color: #f40;\n        margin: 0 2px;\n      }\n      .link{\n          font-size: 0.8em;\n          color: orangered;\n          text-decoration: underline;\n          cursor: pointer;\n          margin: 0 40px;\n      }\n  }\n}\n</style>\n\n<style lang=\"less\">\n.el-table td, .el-table th{\n    height: 90px;\n    \n    .cell{\n        overflow: initial;\n    }\n}\n\n.el-table thead{\n  color: #fff;\n}\n.el-table--enable-row-hover .el-table__body tr:hover>td{\n  background-color: rgba(0,0,0,0.1);\n}\n.el-table th, .el-table tr{\n  background-color: transparent;\n}\n\n</style>\n"]}]}